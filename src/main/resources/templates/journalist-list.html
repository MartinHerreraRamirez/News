<!DOCTYPE html>
<html 
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    lang="en"
>
<head th:replace="/fragments/head :: head"></head>

<body>
    
    <header th:replace="/fragments/header :: header"></header>
   
    <div class="content">
        
        <h2 class="text-center my-4 fw-bold">List of Journalists</h2>      
        
        <table class="table overflow-y-auto">
            <thead class="table-info">
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Lastname</th>
                    <th scope="col" sec:authorize="hasRole('ADMIN')">actions</th>
                </tr>
            </thead>
            <tbody th:each="journalist : ${journalists}">
                <tr th:if="${journalist.isPost} == true">
                    <th scope="row" th:text="${journalist.id}"></th>
                    <td th:text="${journalist.name}"></td>
                    <td th:text="${journalist.lastname}"></td>
                    <td sec:journalistize="hasRole('ADMIN')">
                        <a sec:authorize="hasRole('ADMIN')" th:href="@{/journalist/modify/__${journalist.id}__}">Edit</a>
                        <a sec:authorize="hasRole('ADMIN')" th:href="@{/journalist/delete(id=${journalist.id})}">Delete</a>
                    </td>
                </tr>
            </tbody>
        </table>    
    
    </div>
    <footer th:replace="/fragments/footer :: footer"></footer>

</body>
</html>