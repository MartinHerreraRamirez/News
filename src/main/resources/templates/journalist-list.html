<!DOCTYPE html>
<html 
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    lang="en"
>
<head th:replace="/fragments/head :: head"></head>

<body>

    <header th:replace="/fragments/header :: header"></header>

    <main class="content">        
        
        <section class="container overflow-y-auto">
            
            <h2 class="text-center my-4 fw-bold">List of Journalists</h2>      
            
            <table class="table ">
                <thead class="table-info">
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">lastname</th>
                        <th scope="col">State</th>
                        <th scope="col" sec:authorize="hasRole('ADMIN')">Actions</th>
                        <th scope="col">Salary</th>
                        <th scope="col" sec:authorize="hasRole('ADMIN')">Modify</th>
                    </tr>
                </thead>
                <tbody th:each="journalist : ${journalists}">
                    <tr>
                        <td th:text="${journalist.name}"></td>
                        <td th:text="${journalist.lastname}"></td>
                        <td th:text="${journalist.isActive}"></td>
                        <td sec:journalistize="hasRole('ADMIN')">
                            <a sec:authorize="hasRole('ADMIN')" th:href="@{/journalist/modify/__${journalist.id}__}">Edit</a>
                            <a sec:authorize="hasRole('ADMIN')" th:href="@{/journalist/delete(id=${journalist.id})}">Delete</a>
                        </td>
                        <td th:text="${journalist.salary}"></td>
                        <td sec:authorize="hasRole('ADMIN')">
                            <a sec:authorize="hasRole('ADMIN')" th:href="@{/journalist/edit/salary/__${journalist.id}__}">Edit Salary</a>
                        </td>
                    </tr>
                </tbody>
            </table>    

        </section>
    </main>
    <footer th:replace="/fragments/footer :: footer"></footer>

</body>
</html>